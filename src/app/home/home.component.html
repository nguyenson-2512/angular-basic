<div *ngIf="isLoggedIn" class="row">
  <div class="col-6">
    <h1>All of posts</h1>
    <div *ngFor="let p of listOfPosts" class="card" style="width: 28rem;">
      <img src={{p.image}} class="card-img-top" alt="post's image">
      <div class="card-body">
        <h5 class="card-title">{{p.title}}</h5>
        <p class="card-text">{{p.description}}</p>
        <button class="btn btn-danger" (click)="deletePost(p._id)">Delete this post</button>
        <button class="btn btn-primary" (click)="toggleEditPost(p._id)">Edit this post</button>

        <!-- Modal -->
        <!-- <div class="modal fade" id="editPost" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="modalLabel">Update</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form>
                <div class="mb-3">
                  <label for="title">Title</label>
                  <input [(ngModel)]="postForm.title" type="text" class="form-control" placeholder="title" name="title">
                </div>
                <div class="mb-3">
                  <label for="description">Description</label>
                  <input [(ngModel)]="postForm.description" type="text" class="form-control" placeholder="description"
                    name="description">
                </div>
                <div class="mb-3">
                  <label for="image">Image</label>
                  <input [(ngModel)]="postForm.image" type="text" class="form-control" placeholder="image" name="image">
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Save changes</button>
            </div>
          </div>
        </div>
      </div> -->
      </div>

    </div>

  </div>
  <div class="col-6">
    <div *ngIf="!isEditing; else editForm">
    <h1>Create a new post</h1>
    <form>
      <div class="form-group">
        <label for="title">Title</label>
        <input [(ngModel)]="postForm.title" type="text" class="form-control" placeholder="title" name="title">
      </div>

      <div class="form-group">
        <label for="description">Description</label>
        <input [(ngModel)]="postForm.description" type="text" class="form-control" placeholder="description"
          name="description">
      </div>

      <div class="form-group">
        <label for="image">Image</label>
        <input [(ngModel)]="postForm.image" type="text" class="form-control" placeholder="image" name="image">
      </div>


      <button type="submit" class="btn btn-primary" (click)="createPost()">Create a post</button>
    </form>
  </div>
  <ng-template #editForm>
    <div class="card">
    <div class="card-body" *ngIf="isEditing">
      <h3>Edit</h3>
      <form>
        <div class="form-group">
          <label for="title">Title</label>
          <input [(ngModel)]="postForm.title" type="text" class="form-control" placeholder="title" name="title">
        </div>

        <div class="form-group">
          <label for="description">Description</label>
          <input [(ngModel)]="postForm.description" type="text" class="form-control" placeholder="description"
            name="description">
        </div>

        <div class="form-group">
          <label for="image">Image</label>
          <input [(ngModel)]="postForm.image" type="text" class="form-control" placeholder="image" name="image">
        </div>


        <button type="submit" class="btn btn-primary" (click)="editPost()">Save changes</button>
        <button type="button" class="btn btn-secondary" (click)="handleCancel()">Cancel</button>
      </form>
    </div>
  </div>
  </ng-template>
    <hr />
    <button class="mt-3 btn btn-warning" (click)="deleteAllPosts()">Delete All Post</button>
  </div>
